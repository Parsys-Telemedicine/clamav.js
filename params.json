{"name":"Clamavjs","tagline":"A node.js library for ClamAV","body":"ClamAV.js\r\n========\r\n\r\nA node.js library for ClamAV\r\n-----------------------\r\n\r\n\r\nThis node.js library is intended to be served as a bridge between a node.js application and the ClamAV antivirus engine.\r\n\r\nThe library uses TCP socket (INET) to communicate with ClamAV daemon (clamd) through ClamAV's INSTREAM command. To use this library, use the following:\r\n\r\n```js\r\nvar clamav=require('clamav.js');\r\n\r\nclamav.createScanner(3310, '127.0.0.1').scan('<directory>'\r\n    , function(err, object, malicious) {\r\n  if (err) {\r\n    console.log(object+': '+err);\r\n  }\r\n  else if (malicious) {\r\n    console.log(object+': '+malicious+' FOUND');\r\n  }\r\n  else {\r\n    console.log(object+': OK');\r\n  }\r\n});\r\n\r\n```\r\n\r\nwill scan through the \"directory\" of a Linux machine and report any malicious files detected by ClamAV.\r\n\r\n```js\r\nvar fs=require('fs');\r\nvar clamav=require('clamav.js');\r\n\r\nvar stream = fs.createReadStream('<file>');\r\nclamav.createScanner(3310, '127.0.0.1').scan(stream\r\n    , function(err, object, malicious) {\r\n  if (err) {\r\n    console.log(object.path+': '+err);\r\n  }\r\n  else if (malicious) {\r\n    console.log(object.path+': '+malicious+' FOUND');\r\n  }\r\n  else {\r\n    console.log(object.path+': OK');\r\n  }\r\n});\r\n\r\n```\r\n\r\nwill pass a stream of \"file\" on a Linux machine and report any malicious files detected by ClamAV.\r\n\r\nAdditionally, to check the availability of the ClamAV daemon, use the following:\r\n\r\n```js\r\nvar clamav=require('clamav.js');\r\n\r\nclamav.ping(3310, '127.0.0.1', 1000, function(err) {\r\n  if (err) {\r\n    console.log('127.0.0.1:3310 is not available['+err+']');\r\n  }\r\n  else {\r\n    console.log('127.0.0.1:3310 is alive');\r\n  }\r\n});\r\n\r\n```\r\n\r\nwhere the third parameter 1000 is the timeout in milliseconds.\r\n\r\n\r\nInstallation\r\n-----------\r\nFirst install [node.js](http://nodejs.org) and [ClamAV](http://clamav.net), then:\r\n\r\n```sh\r\n$npm install clamav.js\r\n```\r\n\r\nPerformance\r\n-----------\r\nThe ClamAV.js library is implemented in an asynchronous way by utilizing transform stream of node.js. That is supposed to perform better when I/O is the bottleneck.\r\n\r\nLicense\r\n-----------\r\nThe ClamAV.js library is provided under the MIT License.\r\n\r\nContact\r\n-------\r\nIf you have trouble with the library or have questions, check out the GitHub repository at http://github.com/yotang/clamav.js and Iâ€™ll help you sort it out.\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}